
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>phase fiair test case - My RTEMS GSOC Blog</title>
  <meta name="author" content="WeiY">

  
  <meta name="description" content="The new atomic API draft design has been completed and the first version has been push into RTEMS mainline. Now the atomic ops implemenation is &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://WeiY.github.io/blog/2013/07/28/phase-fiair-test-case">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My RTEMS GSOC Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  #<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
#<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
#<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">My RTEMS GSOC Blog</a></h1>
  
    <h2>Some progress for the GSOC.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:WeiY.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Phase Fiair Test Case</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-28T23:51:00+08:00" pubdate data-updated="true">Jul 28<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>The new atomic API draft design has been completed and the first version has been push into RTEMS mainline. Now the atomic ops implemenation is dependent on C11 stdatomic.h, so if the toolchain of some architecture does not support stdatomic.h it will not have atomic support(now it will post some error log when in the process of rtems compiling). And arm architecture can build successfully using atomic support. But sparc architecture lack of &lsquo;cas&rsquo; instruction support in the toolchain. About this issue i have post a mail to gcc org <a href="http://gcc.gnu.org/ml/gcc/2013-07/msg00272.html" title="RTEMS Source Builder">atomic support for LEON3 platform</a> and the gcc developer will consider add &lsquo;cas&rsquo; support for LEON3.</p>

<p>Then i am working on the new atomic test case design. The first step is to provide some example about usage of atomic API. There is a good reference about atomic API design and test case design, <a href="http://concurrencykit.org/" title="Concurrency kit">Concurrency kit</a>. It has support many atomic API and also provide lots of test case for according API. Becasue phase fair lock is very important for embedded system such RTEMS, i start port the phase fair lock test case from Concurrency kit to RTEMS. Now it has been completed, code is uploaded to github <a href="https://github.com/WeiY/rtems/commit/25fb61a5252db423b8f55c0d57c151c7271ebfdb" title="phase fair test case">phase fair test case</a>. There is still some problem about the printf under the SMP environment, i will try to make it work and submit to mainline.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">WeiY</span></span>

      








  


<time datetime="2013-07-28T23:51:00+08:00" pubdate data-updated="true">Jul 28<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/gsoc/'>GSoc</a>, <a class='category' href='/blog/categories/rtems/'>RTEMS</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/07/07/new-implementation-of-atomic-for-rtems/" title="Previous Post: New implementation of atomic for RTEMS">&laquo; New implementation of atomic for RTEMS</a>
      
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/07/28/phase-fiair-test-case/">Phase Fiair Test Case</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/07/new-implementation-of-atomic-for-rtems/">New Implementation of Atomic for RTEMS</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/29/my-first-blog/">My First Blog</a>
      </li>
    
  </ul>
</section>





<section>
  <h1>新浪微博</h1>
  <ul id="weibo">
    <li>
      <iframe 
        width="100%" 
        height="550" 
        class="share_self" 
        frameborder="0" 
        scrolling="no" 
        src="http://widget.weibo.com/weiboshow/index.php?width=0&height=550&ptype=1&speed=0&skin=&isTitle=0&noborder=1&isWeibo=1&isFans=&uid=3076595420&verifier=2aa00a3f">
      </iframe>
    </li>
  </ul>
</section>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - WeiY -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
